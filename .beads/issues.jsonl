{"id":"chat-11u","title":"Phase 1: Project structure and foundation setup","description":"Set up the complete project structure for backend and frontend, including directory scaffolding, git repository initialization, and basic configuration files.","design":"Follow the project structure defined in AGENTS.md. Create all necessary directories but keep files minimal (empty __init__.py files for Python packages). Use cookiecutter or manual creation.","acceptance_criteria":"- Backend directory structure created with all required folders (app/, config/, agents/, api/, db/, llm/, tools/, utils/)\n- Frontend directory structure created with components/, hooks/, stores/, services/, types/\n- Docker directory with Dockerfile templates\n- .gitignore configured to exclude .env, config.json, node_modules, __pycache__, etc.\n- README.md with basic project description\n- .env.example and config.json.example created","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-04T11:22:33.812094+07:00","created_by":"elka","updated_at":"2026-01-04T11:39:42.753916+07:00","closed_at":"2026-01-04T11:39:42.753916+07:00","close_reason":"Project structure setup completed"}
{"id":"chat-176","title":"Phase 2: Planner agent implementation","description":"Implement the planner agent that creates and modifies step-by-step execution plans.","design":"Use LLM with structured output format. Define clear step types. Planner should analyze user query and context to determine necessary steps. For re-planning, take previous plan + new findings as input. Store plans in working memory tree.","acceptance_criteria":"- Planner agent function implemented\n- Generates structured plans with step types (research, code, database)\n- Can modify existing plans based on new findings\n- Returns plan in standardized format (step number, type, description, expected_output)\n- Integrates with LangGraph state\n- System prompt optimized for planning\n- Handles both initial planning and re-planning","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-04T11:23:23.964972+07:00","created_by":"elka","updated_at":"2026-01-04T17:44:58.818577+07:00","closed_at":"2026-01-04T17:44:58.818577+07:00","close_reason":"Planner agent implemented with Planner class and planner_agent function. Supports LLM-based and rule-based plan generation. Handles re-planning with findings integration. Step types: research, code, database, calculate, chart, think, review. Integrates with AsyncWorkingMemory."}
{"id":"chat-1ha","title":"Phase 6: Documentation (README, API docs, architecture)","description":"Create comprehensive documentation for setup, usage, and architecture.","design":"Use clear markdown formatting. Include diagrams (mermaid or ASCII). Code examples for common tasks. Troubleshooting section. Link to OpenAPI docs. Keep README concise, detailed docs in docs/.","acceptance_criteria":"- README.md with project overview, features, quick start\n- docs/architecture.md explaining agent system and design decisions\n- docs/api.md with all endpoint documentation\n- docs/deployment.md for Docker and manual setup\n- Code comments for complex logic\n- OpenAPI/Swagger docs auto-generated\n- Example config files with comments","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T11:26:15.539104+07:00","created_by":"elka","updated_at":"2026-01-04T11:26:15.539104+07:00"}
{"id":"chat-1o6","title":"Phase 2: LLM provider abstraction layer","description":"Create a unified interface for multiple LLM providers (Anthropic, OpenAI, OpenRouter) with streaming support and error handling.","design":"Use ABC (Abstract Base Class) for provider interface. Implement async methods for chat completion. Use official SDKs (anthropic, openai). Handle streaming with async generators. Track metadata (tokens, cost, latency) in response objects.","acceptance_criteria":"- BaseLLMProvider abstract class defined\n- AnthropicProvider implementation with streaming\n- OpenAIProvider implementation with streaming\n- OpenRouterProvider implementation with streaming\n- Provider factory that selects based on config\n- Proper error handling with retries (3x before failure)\n- Token counting and cost tracking\n- Timeout handling (configurable per provider)","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-04T11:23:12.705765+07:00","created_by":"elka","updated_at":"2026-01-04T16:44:43.764155+07:00","closed_at":"2026-01-04T16:44:43.764155+07:00","close_reason":"LLM provider abstraction layer implemented with BaseLLMProvider, AnthropicProvider, OpenAIProvider, OpenRouterProvider, LLMProviderFactory, error handling with retries, token counting, and cost tracking"}
{"id":"chat-2xk","title":"Phase 4: Progress steps visualization component","description":"Build the ProgressSteps component that displays planner steps with checkmarks, status, and expandable logs.","design":"Use Radix UI Collapsible for expandable logs. Map step status to icon components (lucide-react). Update state from SSE events. Use CSS transitions for smooth status changes. Auto-scroll to active step.","acceptance_criteria":"- ProgressSteps component displays all plan steps\n- Visual indicators: ✓ (completed), ⟳ (running), ✗ (failed), ○ (pending)\n- Each step shows description\n- Expandable logs dropdown for each step\n- Real-time updates via SSE step_update events\n- Removed from UI when all steps complete\n- Smooth animations for status changes","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T11:24:36.734132+07:00","created_by":"elka","updated_at":"2026-01-04T11:24:36.734132+07:00"}
{"id":"chat-386","title":"Phase 1: Database schema and migrations setup","description":"Implement SQLAlchemy models for all database tables and set up Alembic for migrations. Support both SQLite and PostgreSQL.","design":"Use SQLAlchemy 2.0 async API. Create base model with common fields (id, created_at, updated_at). Use JSON fields for metadata, memory_tree, timeline, index_map. Implement proper foreign key relationships and cascading deletes.","acceptance_criteria":"- SQLAlchemy models created for: chat_sessions, messages, working_memory, agent_steps, custom_tools\n- Alembic configured with initial migration\n- Database session manager implemented with async support\n- Repository pattern implemented for data access\n- Works with both SQLite (default) and PostgreSQL\n- Migration can be run with 'alembic upgrade head'","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-04T11:22:38.565646+07:00","created_by":"elka","updated_at":"2026-01-04T11:42:24.835571+07:00","closed_at":"2026-01-04T11:42:24.835571+07:00","close_reason":"Database schema and migrations setup completed"}
{"id":"chat-3lz","title":"Phase 3: Researcher agent with Tavily integration","description":"Implement the researcher agent that uses Tavily API for search and intelligently scrapes top URLs in parallel.","design":"Use tavily-python SDK. Use httpx for async HTTP requests. Implement concurrent scraping with asyncio.gather(). Extract main content with BeautifulSoup (find article/main tags, fallback to body). Clean HTML, extract text. Store results in researcher_output state.","acceptance_criteria":"- Tavily API integration with search functionality\n- Intelligent URL selection (top N based on relevance)\n- Parallel web scraping with BeautifulSoup4\n- 600-second timeout for scraping operations\n- Content extraction and cleaning\n- Returns structured results (urls, summaries, full_content)\n- Flags findings that require re-planning\n- Proper error handling for failed scrapes","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-04T11:23:55.655131+07:00","created_by":"elka","updated_at":"2026-01-04T11:23:55.655131+07:00"}
{"id":"chat-4cr","title":"Phase 6: Docker setup and docker-compose","description":"Create Docker setup for easy deployment with multi-stage builds and docker-compose orchestration.","design":"Use Python slim base image. Multi-stage: builder + runtime. Frontend: bun base, build, nginx for serving. Compose: networks for service communication. Volumes for data persistence. Health checks with curl. Separate dev/prod compose files.","acceptance_criteria":"- Dockerfile.backend with multi-stage build (smaller final image)\n- Dockerfile.frontend with Bun and Vite\n- docker-compose.yml with backend, frontend, PostgreSQL services\n- Volume mounts for development (hot reload)\n- Environment variable passing (.env support)\n- Health checks for all services\n- 'docker-compose up --build' starts entire stack\n- Production and development compose files","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T11:26:10.596606+07:00","created_by":"elka","updated_at":"2026-01-04T11:26:10.596606+07:00"}
{"id":"chat-5h7","title":"Phase 5: PDF export for sessions","description":"Allow users to export chat sessions to PDF format.","design":"Use ReportLab or WeasyPrint for PDF generation. Format messages with proper styling. Include metadata header (session title, date range). Code blocks with syntax highlighting. Embed chart images. Stream PDF as download response.","acceptance_criteria":"- Export button in session menu\n- GET /api/v1/sessions/{id}/export endpoint\n- Generates PDF with all messages\n- Includes session title, date, agent thoughts\n- Formatted for readability (agent colors, code blocks)\n- Downloads as file (session_title_YYYYMMDD.pdf)\n- Charts/images included if present","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-04T11:25:28.581969+07:00","created_by":"elka","updated_at":"2026-01-04T11:25:28.581969+07:00"}
{"id":"chat-5jl","title":"Phase 6: Responsive design for mobile and tablet","description":"Ensure all UI components are fully responsive and work well on mobile and tablet devices.","design":"Use Tailwind responsive breakpoints (sm, md, lg). Sidebar fixed on desktop, drawer on mobile. Use Radix UI Sheet for mobile drawer. Test with browser dev tools + real devices. Ensure z-index layers work correctly.","acceptance_criteria":"- Mobile: Sidebar becomes drawer with hamburger menu\n- Tablet: Side-by-side layout maintained\n- All components responsive (MessageList, Settings modal, etc.)\n- Touch-friendly tap targets (min 44x44px)\n- Tested on iOS and Android browsers\n- Smooth drawer animations\n- Input box remains accessible with on-screen keyboard","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T11:26:00.406449+07:00","created_by":"elka","updated_at":"2026-01-04T11:26:00.406449+07:00"}
{"id":"chat-5k4","title":"Phase 2: LangGraph state machine and master agent","description":"Implement the LangGraph state machine with AgentState schema and master agent orchestration logic.","design":"Use LangGraph's StateGraph and operator.add for append-only timeline. Master agent should maintain working memory and decide routing. Implement route_master function to determine next agent. Handle re-planning triggers from researcher findings.","acceptance_criteria":"- AgentState TypedDict defined with all required fields\n- StateGraph created with master, planner, researcher, tools, database nodes\n- Master agent routing logic implemented\n- Conditional edges configured based on plan steps\n- Graph compiles successfully\n- Master agent can delegate to appropriate subagent based on step type\n- Handles both deep search and casual chat modes","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-04T11:23:18.778244+07:00","created_by":"elka","updated_at":"2026-01-04T17:43:34.496263+07:00","closed_at":"2026-01-04T17:43:34.496263+07:00","close_reason":"LangGraph StateGraph implemented with AgentState TypedDict. Nodes: master, planner, researcher, tools, database. Conditional edges with route_step function. AsyncWorkingMemory integration. create_agent_graph() and run_agent_workflow() functions."}
{"id":"chat-6q4","title":"Phase 5: Error handling with 3x retry and user intervention","description":"Implement robust error handling with automatic retries and user intervention when needed.","design":"Wrap subagent calls in retry decorator. Track retry_count in state. On 3rd failure, send error event via SSE. Frontend shows error modal with options. User choice sent back to backend. Continue execution based on choice.","acceptance_criteria":"- Automatic retry on subagent failure (max 3 attempts)\n- Exponential backoff between retries\n- After 3 failures, prompt user for intervention\n- Error visible in chat with details\n- User can: retry, skip step, or abort\n- Error log maintained in working memory\n- Different handling for different error types (API, timeout, validation)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T11:25:34.013186+07:00","created_by":"elka","updated_at":"2026-01-04T11:25:34.013186+07:00"}
{"id":"chat-7el","title":"Phase 5: Session search functionality","description":"Implement full-text search across all historical chat sessions.","design":"Use SQLite FTS5 or PostgreSQL full-text search. Index message content and titles. Return sessions ranked by relevance. Include message snippet with match context. Frontend highlights search term in results.","acceptance_criteria":"- Search input in sidebar\n- GET /api/v1/sessions/search?q={query} endpoint\n- Searches message content and session titles\n- Returns matching sessions with highlighted snippets\n- Search results clickable to load session\n- Fast performance (\u003c 100ms for typical queries)\n- Supports partial matches","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-04T11:25:24.178764+07:00","created_by":"elka","updated_at":"2026-01-04T11:25:24.178764+07:00"}
{"id":"chat-7gz","title":"Phase 4: Theme toggle and persistent dark mode","description":"Implement theme toggle with smooth transitions and localStorage persistence.","design":"Use React context for theme state. Apply 'dark' class to root element. Define CSS variables for light/dark colors. Use Tailwind dark: variants. Save to localStorage on change. Check localStorage + system preference on mount.","acceptance_criteria":"- Theme toggle button in header\n- Switches between light and dark mode\n- Smooth transition (no flash)\n- Preference saved to localStorage\n- Theme persists across page refreshes\n- All components support both themes\n- Uses CSS variables for colors","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T11:24:52.809157+07:00","created_by":"elka","updated_at":"2026-01-04T11:24:52.809157+07:00"}
{"id":"chat-866","title":"Phase 2: Chat endpoints with SSE streaming","description":"Implement FastAPI chat endpoints including message sending and SSE streaming for real-time updates.","design":"Use sse-starlette for SSE. Create async generator that yields events from agent execution. Store messages in database. Use asyncio.Queue for event passing between agent and SSE stream. Handle client disconnection gracefully.","acceptance_criteria":"- POST /api/v1/chat/message endpoint (creates message, starts agent execution)\n- GET /api/v1/chat/stream/{session_id} SSE endpoint\n- SSE events: thought, step_update, message_chunk, error, complete\n- Events streamed in real-time as agents work\n- POST /api/v1/chat/cancel/{session_id} endpoint\n- Proper async handling\n- Error handling with retry logic\n- Message and session persistence","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-04T11:23:34.61671+07:00","created_by":"elka","updated_at":"2026-01-04T17:46:39.271986+07:00","closed_at":"2026-01-04T17:46:39.271986+07:00","close_reason":"Chat endpoints implemented with SSE streaming. POST /message creates messages and starts agent. GET /stream/{session_id} streams thought, step_update, message_chunk, error, complete events. POST /cancel/{session_id} cancels execution. POST /fork/{message_id} forks conversation. Event queue system with asyncio.Queue for real-time streaming."}
{"id":"chat-8lv","title":"Phase 4: Example question cards (customizable)","description":"Display 4 example question cards on empty chat, customizable via settings.","design":"Load example questions from settings store. Map to Card components. onClick sets input value. Use icon or badge to indicate deep search questions. Use CSS grid for responsive layout (2x2 on desktop, 1 column on mobile).","acceptance_criteria":"- ExampleCards component shows 4 cards when chat is empty\n- Cards populated from config.json example_questions\n- Click on card populates input box\n- Visual indicator if question requires deep search\n- Cards disappear after first message\n- Cards customizable in General settings tab\n- Responsive grid layout","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T11:25:02.865583+07:00","created_by":"elka","updated_at":"2026-01-04T11:25:02.865583+07:00"}
{"id":"chat-98i","title":"Phase 3: Tools agent with code execution","description":"Implement the tools agent with sandboxed code execution, calculations, and chart generation capabilities.","design":"Use RestrictedPython for safe execution. Provide math, pandas, numpy in restricted globals. Capture stdout/stderr. For charts, use matplotlib with Agg backend, save to BytesIO, encode as base64. Limit memory usage. Kill execution after timeout.","acceptance_criteria":"- Code executor using RestrictedPython sandbox\n- 30-second timeout for code execution\n- No file system or network access\n- Calculator tool for math operations\n- Chart generator with matplotlib/plotly\n- Returns execution results, stdout, stderr\n- Charts saved as base64 images or JSON\n- Proper error handling and logging","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-04T11:24:05.578248+07:00","created_by":"elka","updated_at":"2026-01-04T11:24:05.578248+07:00"}
{"id":"chat-98p","title":"Phase 5: API key validation and testing","description":"Implement API key validation with test calls to verify keys are working.","design":"Make test call to each provider (e.g., list models, minimal completion). Catch authentication errors. Return validation status. Frontend shows inline validation. Cache results to avoid repeated calls. Timeout after 10 seconds.","acceptance_criteria":"- POST /api/v1/config/validate-api-key endpoint\n- Tests API key with minimal request to provider\n- Returns success/failure with error message\n- Frontend calls on API key blur or save\n- Visual feedback (checkmark or error icon)\n- Supports all providers (Anthropic, OpenAI, OpenRouter, Tavily)\n- Caches validation results (5 min TTL)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T11:25:44.627111+07:00","created_by":"elka","updated_at":"2026-01-04T11:25:44.627111+07:00"}
{"id":"chat-9f7","title":"Phase 2: Frontend SSE integration and message display","description":"Implement frontend SSE client, message display components, and real-time updates.","design":"Use EventSource API for SSE. Handle multiple event types (thought, step_update, message_chunk). Use Zustand for state management. Implement optimistic UI updates. Display streaming text with smooth animations.","acceptance_criteria":"- useSSE custom hook implemented\n- EventSource API integration with auto-reconnect\n- MessageList and Message components\n- Real-time message streaming (chunk by chunk)\n- Zustand store for chat state\n- InputBox component with send functionality\n- Messages persist across page refresh\n- Proper error handling and loading states","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-04T11:23:38.778034+07:00","created_by":"elka","updated_at":"2026-01-04T17:48:13.132854+07:00","closed_at":"2026-01-04T17:48:13.132854+07:00","close_reason":"Frontend SSE integration implemented. useSSE hook handles thought, step_update, message_chunk, error, complete events. ChatContainer updated with SSE integration and auto-scroll. Message streaming with real-time updates. Zustand store for chat state with persist middleware."}
{"id":"chat-aw6","title":"Casual chat mode (without deep search)","description":"Implement casual chat mode where only the master agent responds without subagent orchestration.","design":"Master agent checks deep_search_enabled flag. If false, skip LangGraph execution, call LLM directly. Stream response chunks via SSE. Store message normally. Allow toggling deep search on next message (starts orchestration from that point).","acceptance_criteria":"- When deep_search_enabled=false, only master agent responds\n- No planner, researcher, tools, or database agents invoked\n- Direct LLM chat without working memory tree\n- Still supports streaming response\n- Faster response time (\u003c 2s typical)\n- Same message storage and UI\n- Can toggle deep search mid-conversation","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-04T11:26:49.137257+07:00","created_by":"elka","updated_at":"2026-01-04T11:26:49.137257+07:00"}
{"id":"chat-b7k","title":"Phase 6: Performance optimization","description":"Optimize performance to meet targets (\u003c 100ms SSE latency, \u003c 500KB bundle, \u003c 50ms DB queries).","design":"Use Vite's code splitting. Lazy load settings modal, heavy components. Add database indexes on foreign keys, created_at. Use SQLAlchemy's joinedload to prevent N+1. Cache config, LLM provider instances. Profile with py-spy, React DevTools Profiler.","acceptance_criteria":"- Frontend bundle size \u003c 500KB (gzipped)\n- SSE latency \u003c 100ms for agent updates\n- Database queries \u003c 50ms for session load\n- Lazy loading for non-critical components\n- Code splitting for routes\n- Database query optimization (indexes, N+1 prevention)\n- Caching for expensive operations\n- Profiling tools integrated (py-spy, React DevTools)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T11:26:25.343655+07:00","created_by":"elka","updated_at":"2026-01-04T11:26:25.343655+07:00"}
{"id":"chat-bp7","title":"Phase 5: Conversation forking functionality","description":"Implement the ability to fork conversations from any message to create alternate paths.","design":"Add fork action to message context menu. API creates new session, copies messages where created_at \u003c= fork message. Set parent_message_id on first message of new session. Return new session_id. Frontend navigates to new session.","acceptance_criteria":"- Fork button/menu on each message\n- POST /api/v1/chat/fork/{message_id} endpoint\n- Creates new session from fork point\n- Copies all messages up to fork point\n- New session appears in sidebar\n- Fork relationship tracked in database (parent_message_id)\n- User redirected to new forked session\n- Original session unchanged","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-04T11:25:19.805741+07:00","created_by":"elka","updated_at":"2026-01-04T11:25:19.805741+07:00"}
{"id":"chat-ci4","title":"Phase 6: Testing (unit, integration, E2E)","description":"Implement comprehensive test suite covering backend and frontend.","design":"Use pytest with async support. Mock LLM calls with fixture responses. Test database with SQLite in-memory. Frontend tests with jsdom. Playwright for E2E (user flows). GitHub Actions for CI. Aim for critical path coverage first.","acceptance_criteria":"- Backend unit tests with pytest (\u003e70% coverage)\n- Integration tests for API endpoints\n- E2E tests for agent workflows\n- Frontend component tests with Vitest + Testing Library\n- E2E tests with Playwright\n- CI/CD pipeline runs all tests\n- Test database fixtures\n- Mock LLM responses for testing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T11:26:19.930374+07:00","created_by":"elka","updated_at":"2026-01-04T11:26:19.930374+07:00"}
{"id":"chat-fc6","title":"Phase 3: Parallel subagent execution","description":"Enable the master agent to run multiple subagents in parallel when plan allows.","design":"Analyze plan for independent steps (no data dependencies). Create tasks for each independent step. Use asyncio.gather() with return_exceptions=True. Update working memory with all results. Timeline should show concurrent execution with timestamps.","acceptance_criteria":"- Master agent can identify independent steps in plan\n- asyncio.gather() used for parallel execution\n- Results merged correctly into state\n- Timeline maintains correct chronological order\n- Working memory tree shows parallel branches\n- Error in one subagent doesn't kill others\n- All parallel results available before next step","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T11:24:15.712293+07:00","created_by":"elka","updated_at":"2026-01-04T11:24:15.712293+07:00"}
{"id":"chat-g3n","title":"Phase 2: Working memory manager (hybrid tree structure)","description":"Implement the working memory manager that maintains tree, timeline, and index structures.","design":"Use nested dictionaries for tree. Keep timeline as ordered list. Index is flat dict mapping node_id to node. When adding to tree, also append to timeline and update index. Implement recursive tree traversal for subtree queries.","acceptance_criteria":"- WorkingMemory class implemented\n- Tree structure for hierarchical relationships\n- Timeline for flat execution log (UI streaming)\n- Index map for fast lookups\n- Methods: add_node, update_node, get_node, get_timeline, get_subtree\n- Serialization to/from JSON for database storage\n- Thread-safe operations\n- Tracks agent relationships (parent-child, triggered_by)","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-04T11:23:28.979097+07:00","created_by":"elka","updated_at":"2026-01-04T17:18:14.964587+07:00","closed_at":"2026-01-04T17:18:14.964587+07:00","close_reason":"WorkingMemory class implemented with tree, timeline, and index structures. Includes MemoryNode, TimelineEntry, AsyncWorkingMemory. Thread-safe with RLock. Serialization to/from JSON. Methods: add_node, update_node, get_node, get_subtree, get_timeline. Tracks agent relationships (parent-child, triggered_by)."}
{"id":"chat-gfo","title":"Phase 4: Settings modal with 7 tabs","description":"Implement the settings modal with all 7 configuration tabs and form validation.","design":"Use Radix UI Dialog and Tabs. Create reusable AgentSettingsTab component. Use React Hook Form for validation. Call config API endpoints for save/load. Mask API keys on display (show last 4 chars). Implement validate-api-key endpoint call on blur.","acceptance_criteria":"- Settings modal opens from header settings icon\n- 7 tabs: General, Database Connection, Master Agent, Planner, Researcher, Tools, Database Agent\n- Each tab has appropriate form fields (provider, model, max_tokens, system_prompt, etc.)\n- API key inputs with show/hide toggle and masking\n- Validation before save\n- Save button persists to config.json\n- Profile selection dropdown (fast, deep, custom)\n- Real-time API key validation (test connection)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T11:24:48.708532+07:00","created_by":"elka","updated_at":"2026-01-04T11:24:48.708532+07:00"}
{"id":"chat-imy","title":"Timezone handling and datetime utilities","description":"Implement timezone configuration and utilities for displaying dates/times correctly.","design":"Use Intl.DateTimeFormat for browser timezone detection. Store UTC in database (SQLAlchemy with timezone-aware datetime). Convert to user TZ for display. Use date-fns for relative time formatting. Provide timezone to agents in system prompts.","acceptance_criteria":"- Auto-detect user timezone on first load\n- Timezone configurable in General settings\n- All timestamps stored in UTC in database\n- Display timestamps in user's timezone\n- Relative time display (2 minutes ago, yesterday, etc.)\n- Timezone provided to all agents via context\n- Date/time utilities in backend and frontend","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T11:26:59.293918+07:00","created_by":"elka","updated_at":"2026-01-04T11:26:59.293918+07:00"}
{"id":"chat-k2h","title":"Phase 1: Basic FastAPI app with health endpoints","description":"Create the main FastAPI application with CORS, health check endpoints, and basic routing structure.","design":"Use FastAPI dependency injection for database sessions. Configure CORS to allow frontend origin. Add startup/shutdown events for database connection management. Keep routers modular in api/routes/.","acceptance_criteria":"- FastAPI app created in app/main.py\n- CORS middleware configured\n- Health check endpoint at /api/v1/health\n- Router structure set up for chat, sessions, config routes\n- OpenAPI docs accessible at /docs\n- App starts with 'uvicorn app.main:app --reload'\n- Database connection tested on startup","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-04T11:22:47.912828+07:00","created_by":"elka","updated_at":"2026-01-04T11:44:41.189112+07:00","closed_at":"2026-01-04T11:44:41.189112+07:00","close_reason":"Basic FastAPI app with health endpoints completed"}
{"id":"chat-khd","title":"Session management endpoints and UI","description":"Implement complete session management with CRUD operations, sidebar display, and session persistence.","design":"Use repository pattern for data access. Generate title from first user message (truncate at 50 chars). Archive instead of hard delete. Sidebar shows recent sessions (limit 50), archived in collapsible section. Zustand store manages active session.","acceptance_criteria":"- GET /api/v1/sessions (list with pagination)\n- POST /api/v1/sessions (create new)\n- PATCH /api/v1/sessions/{id} (update title/archive)\n- DELETE /api/v1/sessions/{id} (soft delete/archive)\n- Sidebar SessionList component displays all sessions\n- Auto-generated session titles from first message\n- Archive/unarchive functionality\n- Delete confirmation modal\n- Sessions sorted by updated_at (most recent first)","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-04T11:26:43.360229+07:00","created_by":"elka","updated_at":"2026-01-04T11:26:43.360229+07:00"}
{"id":"chat-oip","title":"Phase 5: Custom tools support in settings","description":"Allow users to define and manage custom Python tools via settings.","design":"Store tools in database. Provide code editor (Monaco/CodeMirror). Validate Python syntax on save. Tools agent loads enabled custom tools on init. Execute with RestrictedPython. Tool signature: def tool(context: Dict) -\u003e Dict.","acceptance_criteria":"- Custom tools tab in Tools settings\n- Add/edit/delete custom tools\n- Tool editor with: name, description, Python code\n- Code validation before save\n- Enable/disable toggle per tool\n- Tools stored in custom_tools table\n- Tools available to tools agent at runtime\n- Sandboxed execution (same as code executor)","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-04T11:25:39.460714+07:00","created_by":"elka","updated_at":"2026-01-04T11:25:39.460714+07:00"}
{"id":"chat-pcy","title":"Phase 3: Web scraper with parallel execution","description":"Build a robust web scraper that can fetch and parse multiple URLs in parallel with proper error handling.","design":"Use httpx.AsyncClient with connection pooling. Implement semaphore for concurrency control. Use BeautifulSoup with lxml parser. Extract text with .get_text(). Handle 404, timeouts, connection errors gracefully. Log scraping metrics.","acceptance_criteria":"- Async scraper function that accepts list of URLs\n- Parallel execution with configurable concurrency limit\n- BeautifulSoup4 for HTML parsing\n- Content extraction (prioritize article/main/div.content)\n- Text cleaning (remove scripts, styles, navigation)\n- Timeout per URL (configurable, default 30s)\n- Rate limiting to avoid overwhelming servers\n- Returns list of {url, title, content, error} objects","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-04T11:24:00.932497+07:00","created_by":"elka","updated_at":"2026-01-04T11:24:00.932497+07:00"}
{"id":"chat-sun","title":"Phase 1: React + Vite + Bun frontend setup","description":"Initialize the frontend project with React, Vite, Bun, and configure Tailwind CSS and shadcn/ui components.","design":"Use Vite for build tooling. Configure Tailwind with custom theme colors for agent types (purple, blue, green, orange, pink). Set up CSS variables for dark mode. Install only essential shadcn/ui components to keep bundle size minimal.","acceptance_criteria":"- Frontend initialized with 'bun create vite'\n- React 18 configured with TypeScript\n- Tailwind CSS installed and configured\n- shadcn/ui components available (button, input, card, dialog, tabs, etc.)\n- Dark mode support configured\n- Basic routing with React Router\n- App starts with 'bun run dev'\n- Connects to backend health endpoint successfully","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-04T11:22:52.79209+07:00","created_by":"elka","updated_at":"2026-01-04T11:46:13.035818+07:00","closed_at":"2026-01-04T11:46:13.035818+07:00","close_reason":"React + Vite + Bun frontend setup completed"}
{"id":"chat-t2p","title":"Phase 4: Deep search toggle in input box","description":"Add deep search toggle to the input area with clear visual feedback.","design":"Use Radix UI Switch component. Store state in Zustand chat store. Show enabled state with accent color. Include in POST /chat/message payload. Add info icon with tooltip explaining feature.","acceptance_criteria":"- Toggle switch/button in InputBox component\n- Clear visual indication when deep search is enabled\n- State persists during session (not across refresh)\n- Sent with message to backend\n- Tooltip explaining deep search\n- Disabled during message sending","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T11:24:57.583736+07:00","created_by":"elka","updated_at":"2026-01-04T11:24:57.583736+07:00"}
{"id":"chat-v11","title":"Phase 3: Dynamic re-planning logic","description":"Implement logic for the master agent to trigger re-planning when subagents discover new information.","design":"Researcher agent sets requires_replan=True when finding unexpected/important info. Master checks this flag after each subagent. Pass both original plan and findings to planner. Planner decides whether to keep, modify, or completely replace plan. Store plan history in working memory tree.","acceptance_criteria":"- Master agent detects requires_replan flag from subagents\n- Delegates back to planner with context (original plan + new findings)\n- Planner creates updated plan (plan_version incremented)\n- Old plan marked as superseded in working memory\n- New plan execution begins\n- Timeline shows re-planning event\n- Can handle multiple re-planning cycles","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T11:24:20.393802+07:00","created_by":"elka","updated_at":"2026-01-04T11:24:20.393802+07:00"}
{"id":"chat-v3u","title":"Phase 1: Configuration system (config.json + .env)","description":"Implement the configuration management system that handles both config.json and .env files with variable substitution and validation.","design":"Use python-dotenv for .env loading. Implement recursive substitution for nested JSON. Validate config structure with Pydantic. Keep API keys only in .env, use ${VAR} placeholders in config.json.","acceptance_criteria":"- ConfigManager class implemented with load/save/validate methods\n- Environment variable substitution works (${VAR} in config.json replaced with .env values)\n- Pydantic models for config validation\n- Priority order: UI settings \u003e config.json \u003e .env\n- Profile support (fast, deep modes)\n- API key masking for UI display\n- config.json.example and .env.example provided","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-04T11:22:43.49896+07:00","created_by":"elka","updated_at":"2026-01-04T11:43:30.661342+07:00","closed_at":"2026-01-04T11:43:30.661342+07:00","close_reason":"Configuration system completed"}
{"id":"chat-xco","title":"Phase 6: PostgreSQL support with auto-migration","description":"Add full PostgreSQL support with automatic migration from SQLite when user switches.","design":"Use SQLAlchemy's database-agnostic API. Create migration utility that reads from SQLite, writes to PostgreSQL. Use asyncpg for PostgreSQL. Configure connection pool with max_size from config. Test migrations with sample data.","acceptance_criteria":"- Database settings tab allows switching between SQLite and PostgreSQL\n- PostgreSQL connection string validation\n- Auto-migration script copies all data from SQLite to PostgreSQL\n- Connection pooling configured for PostgreSQL\n- Alembic migrations work for both databases\n- Settings persist database choice\n- Graceful fallback if PostgreSQL connection fails","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T11:26:05.282627+07:00","created_by":"elka","updated_at":"2026-01-04T11:26:05.282627+07:00"}
{"id":"chat-xpq","title":"Message pagination and \"Show More\" functionality","description":"Implement message pagination to load messages in chunks and show more on user request.","design":"Use offset/limit pagination. GET /api/v1/sessions/{id}?limit=30\u0026offset=0. Load more prepends to message list. Use react-window or react-virtualized for very long lists. Truncate long messages at 30 lines, expand inline. Maintain scroll position with refs.","acceptance_criteria":"- Load initial 30 messages on session open\n- \"Show More\" button loads previous 30 messages\n- Smooth scroll behavior (maintain scroll position)\n- Infinite scroll option (load on scroll to top)\n- Long responses (\u003e30 lines) truncated with \"Show More\" inline\n- Lazy rendering for very long conversations (virtualization)\n- Performance maintained with 1000+ messages","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T11:26:54.843559+07:00","created_by":"elka","updated_at":"2026-01-04T11:26:54.843559+07:00"}
{"id":"chat-y55","title":"Phase 4: ThinkingBlock component with agent-specific styling","description":"Create collapsible thinking blocks for each agent with color-coded borders and individual collapse controls.","design":"Use Radix UI Collapsible. Map agent types to Tailwind border colors. Store collapse state in component or parent. Use ChevronDown/ChevronRight icons. Animate border color on agent activity.","acceptance_criteria":"- ThinkingBlock component with agent prop (master, planner, researcher, tools, database)\n- Color-coded left borders: purple, blue, green, orange, pink\n- Collapsible with expand/collapse icon\n- Individual collapse state per block\n- Shows agent name and thinking content\n- Streams content in real-time from SSE thought events\n- Can be collapsed by default (configurable)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T11:24:42.188021+07:00","created_by":"elka","updated_at":"2026-01-04T11:24:42.188021+07:00"}
{"id":"chat-zts","title":"Phase 3: Database agent for data warehouse queries","description":"Implement the database agent that queries a data warehouse and performs analysis on results.","design":"Use LLM to generate SQL from natural language. Execute with SQLAlchemy. Data warehouse connection configured in settings. System prompt includes full schema. Return results as pandas DataFrame or JSON. Agent can suggest follow-up queries.","acceptance_criteria":"- Database agent function implemented\n- SQL query generation based on user request\n- Query execution against configured data warehouse\n- Result analysis and summarization\n- Data warehouse schema provided in system prompt\n- Returns structured data for visualization\n- Separate from tools agent (different system prompt)\n- Proper error handling for SQL errors","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-04T11:24:10.806898+07:00","created_by":"elka","updated_at":"2026-01-04T11:24:10.806898+07:00"}
{"id":"chat-zyu","title":"Phase 1: Basic UI layout (Sidebar, Chat, Header)","description":"Implement the main layout structure with sidebar, chat container, and header components.","design":"Use flexbox/grid for layout. Sidebar should be fixed width on desktop, collapsible on mobile. Theme toggle uses React context. Implement smooth transitions for theme switching.","acceptance_criteria":"- Sidebar component with session list placeholder\n- ChatContainer component with message area\n- Header component with theme toggle and settings icon\n- Layout is responsive (mobile: drawer, tablet/desktop: sidebar)\n- Theme toggle switches between light and dark mode\n- Layout persists theme preference in localStorage\n- Settings icon opens placeholder modal","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-04T11:22:57.158528+07:00","created_by":"elka","updated_at":"2026-01-04T11:47:17.854698+07:00","closed_at":"2026-01-04T11:47:17.854698+07:00","close_reason":"Basic UI layout completed"}
